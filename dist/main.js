(()=>{"use strict";const e=function(e){document.getElementById("taskButton").style.visibility="hidden",document.querySelector(".taskFormContainer").style.visibility="hidden",document.querySelector(".contentHeader").textContent="All";const t=document.querySelector(".taskContainer");t.innerHTML="",e.forEach(((o,r)=>{let n=o.tasks;n.forEach(((o,r)=>{console.log(o);let l=document.createElement("div");l.classList.add("task"),t.appendChild(l);let i=document.createElement("input");i.classList.add("taskTitle"),i.value=o.title,l.appendChild(i);let a=document.createElement("input");a.classList.add("taskDescription"),a.value=o.description,l.appendChild(a);let c=document.createElement("select");c.classList.add("taskPriority"),l.appendChild(c),c.addEventListener("change",(t=>{"No Priority"==t.currentTarget.value?(t.currentTarget.value=s.value,o.priority=t.currentTarget.value,l.style.borderColor="black",console.log(e),s.blur(),localStorage.setItem("myProjects",JSON.stringify(e))):"Low Priority"==t.currentTarget.value?(t.currentTarget.value=d.value,o.priority=t.currentTarget.value,l.style.borderColor="green",console.log(e),d.blur(),localStorage.setItem("myProjects",JSON.stringify(e))):"High Priority"==t.currentTarget.value&&(t.currentTarget.value=u.value,o.priority=t.currentTarget.value,l.style.borderColor="red",console.log(e),u.blur(),localStorage.setItem("myProjects",JSON.stringify(e)))}));let s=document.createElement("option");s.classList.add("noPriority"),s.value="No Priority",s.textContent="No Priority",c.appendChild(s);let d=document.createElement("option");d.classList.add("lowPriority"),d.value="Low Priority",d.textContent="Low Priority",c.appendChild(d);let u=document.createElement("option");u.classList.add("highPriority"),u.value="High Priority",u.textContent="High Priority",c.appendChild(u);let y=document.createElement("input");y.classList.add("showDueDate"),y.type="Date",y.value=o.dueDate,l.appendChild(y),y.addEventListener("change",(t=>{t.currentTarget.value=y.value,o.dueDate=t.currentTarget.value,console.log(o),localStorage.setItem("myProjects",JSON.stringify(e))})),i.addEventListener("keypress",(t=>{"Enter"==t.key&&(o.title=i.value,o.description=a.value,o.priority=c.value,o.dueDate=y.value,console.log(e),i.blur(),localStorage.setItem("myProjects",JSON.stringify(e)))})),a.addEventListener("keypress",(t=>{"Enter"==t.key&&(o.title=i.value,o.description=a.value,o.priority=c.value,o.dueDate=y.value,console.log(e),a.blur(),localStorage.setItem("myProjects",JSON.stringify(e)))})),"High Priority"==o.priority?(l.style.borderColor="red",u.selected=!0):"Low Priority"==o.priority?(l.style.borderColor="green",d.selected=!0):l.style.borderColor="black";let m=document.createElement("button");m.classList.add("taskDelete"),m.textContent="Delete",l.appendChild(m),m.addEventListener("click",(()=>{n.splice(r,1),l.remove(),console.log(r),console.log(o),console.log(n)}))}))}))};let t;null!==localStorage?(t=JSON.parse(localStorage.getItem("myProjects")),n()):(t=[],function(){const e=document.querySelector(".projectContainer"),t=document.createElement("div");t.textContent="Default",e.appendChild(t),document.querySelector(".contentHeader").textContent=t.textContent,document.getElementById("taskButton").style.visibility="visibile";let o=t.textContent,r=new Project(o);myProjects.push(r),projectClick(),console.log(myProjects)}());class o{constructor(e,t,o){this.title=e,this.index=t,this.tasks=[]}}class r{constructor(e,t,o,r){this.title=e,this.description=t,this.priority=o,this.dueDate=r}}function n(){const o=document.querySelector(".projectContainer");let i=document.querySelector(".contentHeader");const a=document.querySelector(".taskContainer");o.innerHTML="",o.textContent="Projects",t.forEach(((c,s)=>{const d=document.createElement("div");d.classList.add("project"),o.appendChild(d);const u=document.createElement("div");u.classList.add("projectTitle"),u.textContent=c.title,d.appendChild(u);let y=document.createElement("button");y.setAttribute("id","deleteProject"),y.textContent="X",d.appendChild(y),y.addEventListener("click",(()=>{t.splice(s,1),d.remove(),n(),i.textContent==c.title&&e(t),localStorage.setItem("myProjects",JSON.stringify(t)),console.log(t)})),u.addEventListener("click",(()=>{a.innerHTML="",i.textContent=c.title,l(s),function(e){const o=document.querySelector(".taskFormContainer");o.innerHTML="",document.querySelector(".taskContainer");const n=document.createElement("input");n.setAttribute("id","taskTitle"),n.placeholder="title",o.appendChild(n);const i=document.createElement("input");i.setAttribute("id","taskDescription"),i.placeholder="description",o.appendChild(i);const a=document.createElement("select");a.setAttribute("id","taskPriority"),o.appendChild(a);const c=document.createElement("option");c.value="No Priority",c.textContent="No Priority",a.appendChild(c);const s=document.createElement("option");s.value="High Priority",s.textContent="High Priority",a.appendChild(s);const d=document.createElement("option");d.value="Low Priority",d.textContent="Low Priority",a.appendChild(d);const u=document.createElement("input");u.setAttribute("id","taskDueDate"),u.type="Date",u.textContent="Due Date",o.appendChild(u);const y=document.createElement("button");y.setAttribute("id","submitTask"),y.textContent="Submit",o.appendChild(y);const m=document.createElement("button");m.setAttribute("id","cancelTask"),m.textContent="Cancel",o.appendChild(m),y.addEventListener("click",(()=>{let o=document.getElementById("taskTitle").value,n=document.getElementById("taskDescription").value,i=document.getElementById("taskPriority").value,a=document.getElementById("taskDueDate").value,c=new r(o,n,i,a);t.at(e).tasks.push(c),localStorage.setItem("myProjects",JSON.stringify(t)),console.log(localStorage),console.log(t),console.log(i),l(e),document.querySelector(".taskFormContainer").style.visibility="hidden"})),m.addEventListener("click",(()=>{o.style.visibility="hidden"}))}(s),function(){const e=document.getElementById("taskButton");e.style.visibility="visible";const t=document.querySelector(".taskFormContainer");e.addEventListener("click",(()=>{t.style.visibility="visible",document.getElementById("taskTitle").value="",document.getElementById("taskDescription").value="",document.getElementById("taskPriority").value="",document.getElementById("taskDueDate").value=""}))}(),console.log(t),console.log(s)}))}))}function l(e){const o=document.querySelector(".taskContainer");o.innerHTML="";let r=t.at(e).tasks;r.forEach(((e,n)=>{let l=document.createElement("div");l.classList.add("task"),o.appendChild(l);let i=document.createElement("input");i.classList.add("taskTitle"),i.value=e.title,l.appendChild(i);let a=document.createElement("input");a.classList.add("taskDescription"),a.value=e.description,l.appendChild(a);let c=document.createElement("select");c.classList.add("taskPriority"),l.appendChild(c),c.addEventListener("change",(o=>{"No Priority"==o.currentTarget.value?(o.currentTarget.value=s.value,e.priority=o.currentTarget.value,l.style.borderColor="black",console.log(t),s.blur(),localStorage.setItem("myProjects",JSON.stringify(t))):"Low Priority"==o.currentTarget.value?(o.currentTarget.value=d.value,e.priority=o.currentTarget.value,l.style.borderColor="green",console.log(t),d.blur(),localStorage.setItem("myProjects",JSON.stringify(t))):"High Priority"==o.currentTarget.value&&(o.currentTarget.value=u.value,e.priority=o.currentTarget.value,l.style.borderColor="red",console.log(t),u.blur(),localStorage.setItem("myProjects",JSON.stringify(t)))}));let s=document.createElement("option");s.classList.add("noPriority"),s.value="No Priority",s.textContent="No Priority",c.appendChild(s);let d=document.createElement("option");d.classList.add("lowPriority"),d.value="Low Priority",d.textContent="Low Priority",c.appendChild(d);let u=document.createElement("option");u.classList.add("highPriority"),u.value="High Priority",u.textContent="High Priority",c.appendChild(u);let y=document.createElement("input");y.classList.add("showDueDate"),y.type="Date",y.value=e.dueDate,l.appendChild(y),y.addEventListener("change",(o=>{o.currentTarget.value=y.value,e.dueDate=o.currentTarget.value,console.log(e),localStorage.setItem("myProjects",JSON.stringify(t))})),i.addEventListener("keypress",(o=>{"Enter"==o.key&&(e.title=i.value,e.description=a.value,e.priority=c.value,e.dueDate=y.value,console.log(t),i.blur(),localStorage.setItem("myProjects",JSON.stringify(t)))})),a.addEventListener("keypress",(o=>{"Enter"==o.key&&(e.title=i.value,e.description=a.value,e.priority=c.value,e.dueDate=y.value,console.log(t),a.blur(),localStorage.setItem("myProjects",JSON.stringify(t)))})),"High Priority"==e.priority?(l.style.borderColor="red",u.selected=!0):"Low Priority"==e.priority?(l.style.borderColor="green",d.selected=!0):l.style.borderColor="black";let m=document.createElement("button");m.classList.add("taskDelete"),m.textContent="X",l.appendChild(m),m.addEventListener("click",(()=>{r.splice(n,1),l.remove(),console.log(n),console.log(e),console.log(r),localStorage.setItem("myProjects",JSON.stringify(t))}))}))}!function(){const e=document.querySelector(".projectFormContainer"),t=document.querySelector(".projectButton"),o=document.getElementById("projectName");t.addEventListener("click",(()=>{o.value="",e.style.visibility="visible"}))}(),function(){const e=document.getElementById("submitProject"),r=document.querySelector(".projectContainer");e.addEventListener("click",(()=>{r.innerHTML="",r.textContent="Projects";let e=document.getElementById("projectName").value,l=new o(e);t.push(l),console.log(t),n(),document.querySelector(".projectFormContainer").style.visibility="hidden",localStorage.setItem("myProjects",JSON.stringify(t))}))}(),function(){const e=document.getElementById("cancelProject"),t=document.querySelector(".projectFormContainer");e.addEventListener("click",(()=>{t.style.visibility="hidden"}))}(),document.querySelector(".allTasks").addEventListener("click",(()=>{e(t)})),window.addEventListener("DOMContentLoaded",(()=>{e(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBR3ZELENBUEQsR0FtWUFILFNBQVNJLGNBQWMsYUFBYXNCLGlCQUFpQixTQUFTLEtBQzFELEVBQVMsRUFBVSxJQUd2QnlELE9BQU96RCxpQkFBaUIsb0JBQW9CLEtBQ3hDLEVBQVMsRUFBVSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9hbGxUYXNrcy5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvY3JlYXRlRGVmYXVsdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBhbGxUYXNrcyAobXlQcm9qZWN0cyl7XG4gICAgY29uc3QgdGFza0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJylcbiAgICB0YXNrQnV0dG9uLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBjb25zdCB0YXNrRm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybUNvbnRhaW5lcicpO1xuICAgIHRhc2tGb3JtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudEhlYWRlcicpLnRleHRDb250ZW50ID0gJ0FsbCdcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tDb250YWluZXInKTtcbiAgICB0YXNrQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgIG15UHJvamVjdHMuZm9yRWFjaCgoZSxpKT0+e1xuICAgICAgICBsZXQgdGFza0FycmF5ID0gZS50YXNrc1xuICAgICAgICB0YXNrQXJyYXkuZm9yRWFjaCgoZSxpKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSlcblxuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgbGV0IHRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRhc2suY2xhc3NMaXN0LmFkZCgndGFzaycpXG4gICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2spXG4gICAgXG4gICAgICAgICAgICBsZXQgdGFza1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIHRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKCd0YXNrVGl0bGUnKTtcbiAgICAgICAgICAgIHRhc2tUaXRsZS52YWx1ZSA9IGUudGl0bGU7XG4gICAgICAgICAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tUaXRsZSk7XG4gICAgXG4gICAgICAgICAgICBsZXQgdGFza0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIHRhc2tEZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKCd0YXNrRGVzY3JpcHRpb24nKVxuICAgICAgICAgICAgdGFza0Rlc2NyaXB0aW9uLnZhbHVlID0gZS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza0Rlc2NyaXB0aW9uKTtcbiAgICBcbiAgICAgICAgICAgIGxldCB0YXNrUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAgICAgICAgIHRhc2tQcmlvcml0eS5jbGFzc0xpc3QuYWRkKCd0YXNrUHJpb3JpdHknKVxuICAgICAgICAgICAgdGFzay5hcHBlbmRDaGlsZCh0YXNrUHJpb3JpdHkpO1xuXG4gICAgICAgICAgICB0YXNrUHJpb3JpdHkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2dCk9PntcbiAgICAgICAgICAgICAgICBpZiAoZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWUgPT0gJ05vIFByaW9yaXR5Jyl7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBldnQuY3VycmVudFRhcmdldC52YWx1ZSA9IG5vUHJpb3JpdHkudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGUucHJpb3JpdHkgPSBldnQuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG15UHJvamVjdHMpO1xuICAgICAgICAgICAgICAgICAgICBub1ByaW9yaXR5LmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ215UHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShteVByb2plY3RzKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldnQuY3VycmVudFRhcmdldC52YWx1ZSA9PSAnTG93IFByaW9yaXR5Jyl7XG4gICAgICAgICAgICAgICAgICAgIGV2dC5jdXJyZW50VGFyZ2V0LnZhbHVlID0gbG93UHJpb3JpdHkudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGUucHJpb3JpdHkgPSBldnQuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG15UHJvamVjdHMpO1xuICAgICAgICAgICAgICAgICAgICBsb3dQcmlvcml0eS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteVByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkobXlQcm9qZWN0cykpO1xuICAgIFxuICAgIFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWUgPT0gJ0hpZ2ggUHJpb3JpdHknKXtcbiAgICAgICAgICAgICAgICAgICAgZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWUgPSBoaWdoUHJpb3JpdHkudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGUucHJpb3JpdHkgPSBldnQuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZWQnO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhteVByb2plY3RzKTtcbiAgICAgICAgICAgICAgICAgICAgaGlnaFByaW9yaXR5LmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ215UHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShteVByb2plY3RzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgbGV0IG5vUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG5vUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnbm9Qcmlvcml0eScpO1xuICAgICAgICAgICAgbm9Qcmlvcml0eS52YWx1ZSA9ICdObyBQcmlvcml0eSc7XG4gICAgICAgICAgICBub1ByaW9yaXR5LnRleHRDb250ZW50ID0gJ05vIFByaW9yaXR5JztcbiAgICAgICAgICAgIHRhc2tQcmlvcml0eS5hcHBlbmRDaGlsZChub1ByaW9yaXR5KTtcbiAgICBcbiAgICAgICAgICAgIGxldCBsb3dQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgbG93UHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnbG93UHJpb3JpdHknKTtcbiAgICAgICAgICAgIGxvd1ByaW9yaXR5LnZhbHVlID0gJ0xvdyBQcmlvcml0eSc7XG4gICAgICAgICAgICBsb3dQcmlvcml0eS50ZXh0Q29udGVudCA9ICdMb3cgUHJpb3JpdHknXG4gICAgICAgICAgICB0YXNrUHJpb3JpdHkuYXBwZW5kQ2hpbGQobG93UHJpb3JpdHkpO1xuICAgIFxuICAgICAgICAgICAgXG4gICAgXG4gICAgICAgICAgICBsZXQgaGlnaFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBoaWdoUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnaGlnaFByaW9yaXR5Jyk7XG4gICAgICAgICAgICBoaWdoUHJpb3JpdHkudmFsdWUgPSAnSGlnaCBQcmlvcml0eSc7XG4gICAgICAgICAgICBoaWdoUHJpb3JpdHkudGV4dENvbnRlbnQgPSAnSGlnaCBQcmlvcml0eSdcbiAgICAgICAgICAgIHRhc2tQcmlvcml0eS5hcHBlbmRDaGlsZChoaWdoUHJpb3JpdHkpO1xuICAgIFxuICAgICAgICAgICAgXG4gICAgXG4gICAgICAgICAgICBsZXQgdGFza0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gICAgICAgICAgICB0YXNrRHVlRGF0ZS5jbGFzc0xpc3QuYWRkKCdzaG93RHVlRGF0ZScpO1xuICAgICAgICAgICAgdGFza0R1ZURhdGUudHlwZSA9ICdEYXRlJztcbiAgICAgICAgICAgIHRhc2tEdWVEYXRlLnZhbHVlID0gZS5kdWVEYXRlO1xuICAgICAgICAgICAgdGFzay5hcHBlbmRDaGlsZCh0YXNrRHVlRGF0ZSk7XG5cbiAgICAgICAgICAgIHRhc2tEdWVEYXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChkYXRlKT0+e1xuICAgICAgICAgICAgICAgIGRhdGUuY3VycmVudFRhcmdldC52YWx1ZSA9IHRhc2tEdWVEYXRlLnZhbHVlO1xuICAgICAgICAgICAgICAgIGUuZHVlRGF0ZSA9IGRhdGUuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteVByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkobXlQcm9qZWN0cykpO1xuICAgIFxuICAgICAgICAgICAgfSlcbiAgICBcbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICB0YXNrVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoayk9PntcbiAgICAgICAgICAgICAgICBpZiAoay5rZXkgPT0gJ0VudGVyJyl7XG4gICAgICAgICAgICAgICAgICAgIGUudGl0bGUgPSB0YXNrVGl0bGUudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGUuZGVzY3JpcHRpb24gPSB0YXNrRGVzY3JpcHRpb24udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGUucHJpb3JpdHkgPSB0YXNrUHJpb3JpdHkudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGUuZHVlRGF0ZSA9IHRhc2tEdWVEYXRlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tUaXRsZS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteVByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkobXlQcm9qZWN0cykpO1xuICAgIFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgIHRhc2tEZXNjcmlwdGlvbi5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChrKT0+e1xuICAgICAgICAgICAgICAgIGlmIChrLmtleSA9PSAnRW50ZXInKXtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGUudGl0bGUgPSB0YXNrVGl0bGUudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGUuZGVzY3JpcHRpb24gPSB0YXNrRGVzY3JpcHRpb24udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGUucHJpb3JpdHkgPSB0YXNrUHJpb3JpdHkudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGUuZHVlRGF0ZSA9IHRhc2tEdWVEYXRlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tEZXNjcmlwdGlvbi5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteVByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkobXlQcm9qZWN0cykpO1xuICAgIFxuICAgICAgICAgICAgICAgIH07XG4gICAgXG4gICAgICAgICAgICB9KVxuICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICBcbiAgICAgICAgICAgIGlmIChlLnByaW9yaXR5ID09ICdIaWdoIFByaW9yaXR5Jyl7XG4gICAgICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZWQnXG4gICAgICAgICAgICAgICAgaGlnaFByaW9yaXR5LnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5wcmlvcml0eSA9PSAnTG93IFByaW9yaXR5Jyl7XG4gICAgICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdncmVlbidcbiAgICAgICAgICAgICAgICBsb3dQcmlvcml0eS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhc2suc3R5bGUuYm9yZGVyQ29sb3IgPSAnYmxhY2snXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgXG4gICAgXG4gICAgXG4gICAgICAgICAgICBsZXQgdGFza0RlbGV0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgICAgICAgICB0YXNrRGVsZXRlLmNsYXNzTGlzdC5hZGQoJ3Rhc2tEZWxldGUnKTtcbiAgICAgICAgICAgIHRhc2tEZWxldGUudGV4dENvbnRlbnQgPSAnRGVsZXRlJztcbiAgICAgICAgICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza0RlbGV0ZSk7XG4gICAgICAgICAgICB0YXNrRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0YXNrQXJyYXkuc3BsaWNlKGkgLCAxKTtcbiAgICAgICAgICAgICAgICB0YXNrLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGkpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGFza0FycmF5KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFxuICAgIFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgfSlcblxufVxuXG5leHBvcnQgZGVmYXVsdCBhbGxUYXNrcyIsImltcG9ydCBhbGxUYXNrcyBmcm9tICcuL2FsbFRhc2tzJ1xuaW1wb3J0IGNyZWF0ZURlZmF1bHRQcm9qZWN0IGZyb20gJy4vY3JlYXRlRGVmYXVsdCdcblxubGV0IG15UHJvamVjdHM7XG5pZiAobG9jYWxTdG9yYWdlICE9PSBudWxsKXtcbiAgICBteVByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXlQcm9qZWN0cycpKVxuICAgIHByb2plY3RDbGljaygpXG59IGVsc2Uge1xuICAgIG15UHJvamVjdHMgPSBbXTtcbiAgICBjcmVhdGVEZWZhdWx0UHJvamVjdCgpO1xuXG59XG5cblxuY2xhc3MgUHJvamVjdCB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGluZGV4LCB0YXNrcyl7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZVxuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXhcbiAgICAgICAgdGhpcy50YXNrcyA9IFtdXG4gICAgfVxuXG59XG5cbmNsYXNzIFRhc2sge1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHksIGR1ZURhdGUpe1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIH1cbn1cbi8qXG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0UHJvamVjdCAoKXsgXG5cbiAgICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RDb250YWluZXInKTtcbiAgICBcbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYWRkUHJvamVjdC50ZXh0Q29udGVudCA9ICdEZWZhdWx0J1xuICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoYWRkUHJvamVjdCk7XG5cbiAgICBcblxuICAgIGNvbnN0IGNvbnRlbnRIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudEhlYWRlcicpO1xuICAgIGNvbnRlbnRIZWFkZXIudGV4dENvbnRlbnQgPSBhZGRQcm9qZWN0LnRleHRDb250ZW50O1xuXG4gICAgY29uc3QgdGFza0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJyk7XG4gICAgdGFza0J1dHRvbi5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2liaWxlJztcblxuXG5cbiAgICBsZXQgdGl0bGUgPSBhZGRQcm9qZWN0LnRleHRDb250ZW50O1xuICAgIGxldCBkZWZhdWx0UHJvamVjdCA9IG5ldyBQcm9qZWN0KHRpdGxlKTtcbiAgICBteVByb2plY3RzLnB1c2goZGVmYXVsdFByb2plY3QpO1xuXG4gICAgcHJvamVjdENsaWNrKClcblxuICAgIGNvbnNvbGUubG9nKG15UHJvamVjdHMpXG59O1xuKi9cblxuXG4oZnVuY3Rpb24gcHJvamVjdEJ1dHRvbiAoKXtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybUNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHByb2plY3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEJ1dHRvbicpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3ROYW1lJyk7XG4gICAgXG4gICAgcHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIHByb2plY3ROYW1lLnZhbHVlID0gJyc7XG4gICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIFxuICAgIH0pO1xufSkoKTtcblxuKGZ1bmN0aW9uIHByb2plY3RTdWJtaXQgKCl7XG4gICAgY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdFByb2plY3QnKTtcbiAgICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RDb250YWluZXInKTtcbiAgICBcbiAgICBzdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLnRleHRDb250ZW50ID0gJ1Byb2plY3RzJ1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0TmFtZScpO1xuICAgICAgICBcblxuICAgICAgICBcblxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGxldCB0aXRsZSA9IHByb2plY3ROYW1lLnZhbHVlO1xuXG4gICAgICAgIGxldCBwcm9qZWN0T2JqID0gbmV3IFByb2plY3QodGl0bGUpXG4gICAgICAgIG15UHJvamVjdHMucHVzaChwcm9qZWN0T2JqKVxuICAgICAgICBjb25zb2xlLmxvZyhteVByb2plY3RzKVxuXG4gICAgICAgIFxuXG4gICAgICAgIHByb2plY3RDbGljaygpXG5cbiAgICAgICAgY29uc3QgcHJvamVjdEZvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm1Db250YWluZXInKTtcbiAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteVByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkobXlQcm9qZWN0cykpO1xuICAgICAgICBcbiAgICAgICAgXG4gICAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gcHJvamVjdENhbmNlbCAoKXtcbiAgICBjb25zdCBjYW5jZWxQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbFByb2plY3QnKTtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybUNvbnRhaW5lcicpXG4gICAgY2FuY2VsUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcblxuICAgIH0pO1xufSkoKTtcblxuZnVuY3Rpb24gdGFza0J1dHRvbiAoKXtcblxuICAgIFxuXG4gICAgY29uc3QgdGFza0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJyk7XG4gICAgdGFza0J1dHRvbi5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnXG4gICAgY29uc3QgdGFza0Zvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm1Db250YWluZXInKTtcbiAgICBcbiAgICB0YXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgICAgIHRhc2tGb3JtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza1RpdGxlJykudmFsdWUgPSAnJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tEZXNjcmlwdGlvbicpLnZhbHVlID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrUHJpb3JpdHknKS52YWx1ZSA9ICcnO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0R1ZURhdGUnKS52YWx1ZSA9ICcnO1xuXG4gICAgfSlcblxufVxuXG4gICAgICAgIFxuZnVuY3Rpb24gcHJvamVjdENsaWNrICgpe1xuICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdENvbnRhaW5lcicpO1xuICAgIGxldCBjb250ZW50SGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnRIZWFkZXInKTtcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tDb250YWluZXInKVxuXG4gICAgcHJvamVjdENvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xuICAgIHByb2plY3RDb250YWluZXIudGV4dENvbnRlbnQgPSAnUHJvamVjdHMnXG5cbiAgICBteVByb2plY3RzLmZvckVhY2goKHByb2osIGkpID0+e1xuICAgICAgICBjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpXG4gICAgICAgIFxuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3QpO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwcm9qZWN0VGl0bGUuY2xhc3NMaXN0LmFkZCgncHJvamVjdFRpdGxlJylcbiAgICAgICAgcHJvamVjdFRpdGxlLnRleHRDb250ZW50ID0gcHJvai50aXRsZTtcbiAgICAgICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGUpO1xuXG5cbiAgICAgICAgbGV0IGRlbGV0ZVByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgICAgICBkZWxldGVQcm9qZWN0LnNldEF0dHJpYnV0ZSgnaWQnLCAnZGVsZXRlUHJvamVjdCcpXG4gICAgICAgIGRlbGV0ZVByb2plY3QudGV4dENvbnRlbnQgPSAnWCc7XG4gICAgICAgIHByb2plY3QuYXBwZW5kQ2hpbGQoZGVsZXRlUHJvamVjdClcbiAgICAgICAgZGVsZXRlUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBteVByb2plY3RzLnNwbGljZShpLDEpO1xuICAgICAgICAgICAgcHJvamVjdC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHByb2plY3RDbGljaygpXG5cbiAgICAgICAgICAgIGlmIChjb250ZW50SGVhZGVyLnRleHRDb250ZW50ID09IHByb2oudGl0bGUpe1xuICAgICAgICAgICAgICAgIGFsbFRhc2tzKG15UHJvamVjdHMpXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteVByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkobXlQcm9qZWN0cykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0cyk7XG5cbiAgICAgICAgfSlcblxuICAgICAgICBwcm9qZWN0VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XG4gICAgICAgICAgICB0YXNrQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgY29udGVudEhlYWRlci50ZXh0Q29udGVudCA9IHByb2oudGl0bGU7XG4gICAgICAgICAgICBkaXNwbGF5VGFza3MoaSlcbiAgICAgICAgICAgIGNyZWF0ZVRhc2soaSlcbiAgICAgICAgICAgIHRhc2tCdXR0b24oKVxuXG5cbiAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhteVByb2plY3RzKVxuICAgICAgICAgICAgY29uc29sZS5sb2coaSkgIFxuICAgICAgICB9KVxuXG5cblxuICAgIH0pXG4gICAgXG4gICAgXG4gICAgXG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlUYXNrcyAoaSl7XG5cbiAgICBcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tDb250YWluZXInKTtcbiAgICB0YXNrQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuXG4gICAgbGV0IHRhc2tBcnJheSA9IG15UHJvamVjdHMuYXQoaSkudGFza3M7XG4gICAgXG4gICAgdGFza0FycmF5LmZvckVhY2goKGUsIGkpID0+e1xuICAgICAgICBsZXQgdGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0YXNrLmNsYXNzTGlzdC5hZGQoJ3Rhc2snKVxuXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQodGFzaylcblxuICAgICAgICBsZXQgdGFza1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdGFza1RpdGxlLmNsYXNzTGlzdC5hZGQoJ3Rhc2tUaXRsZScpO1xuICAgICAgICB0YXNrVGl0bGUudmFsdWUgPSBlLnRpdGxlO1xuICAgICAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tUaXRsZSk7XG5cbiAgICAgICAgXG5cbiAgICAgICAgbGV0IHRhc2tEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKCd0YXNrRGVzY3JpcHRpb24nKVxuICAgICAgICB0YXNrRGVzY3JpcHRpb24udmFsdWUgPSBlLmRlc2NyaXB0aW9uO1xuICAgICAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tEZXNjcmlwdGlvbik7XG5cbiAgICAgICAgbGV0IHRhc2tQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICB0YXNrUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgndGFza1ByaW9yaXR5JylcbiAgICAgICAgdGFzay5hcHBlbmRDaGlsZCh0YXNrUHJpb3JpdHkpO1xuXG4gICAgICAgIHRhc2tQcmlvcml0eS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZ0KT0+e1xuICAgICAgICAgICAgaWYgKGV2dC5jdXJyZW50VGFyZ2V0LnZhbHVlID09ICdObyBQcmlvcml0eScpe1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGV2dC5jdXJyZW50VGFyZ2V0LnZhbHVlID0gbm9Qcmlvcml0eS52YWx1ZTtcbiAgICAgICAgICAgICAgICBlLnByaW9yaXR5ID0gZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0cyk7XG4gICAgICAgICAgICAgICAgbm9Qcmlvcml0eS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ215UHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShteVByb2plY3RzKSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQuY3VycmVudFRhcmdldC52YWx1ZSA9PSAnTG93IFByaW9yaXR5Jyl7XG4gICAgICAgICAgICAgICAgZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWUgPSBsb3dQcmlvcml0eS52YWx1ZTtcbiAgICAgICAgICAgICAgICBlLnByaW9yaXR5ID0gZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0cyk7XG4gICAgICAgICAgICAgICAgbG93UHJpb3JpdHkuYmx1cigpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteVByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkobXlQcm9qZWN0cykpO1xuXG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWUgPT0gJ0hpZ2ggUHJpb3JpdHknKXtcbiAgICAgICAgICAgICAgICBldnQuY3VycmVudFRhcmdldC52YWx1ZSA9IGhpZ2hQcmlvcml0eS52YWx1ZTtcbiAgICAgICAgICAgICAgICBlLnByaW9yaXR5ID0gZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZWQnO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG15UHJvamVjdHMpO1xuICAgICAgICAgICAgICAgIGhpZ2hQcmlvcml0eS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ215UHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShteVByb2plY3RzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgbm9Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBub1ByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ25vUHJpb3JpdHknKTtcbiAgICAgICAgbm9Qcmlvcml0eS52YWx1ZSA9ICdObyBQcmlvcml0eSc7XG4gICAgICAgIG5vUHJpb3JpdHkudGV4dENvbnRlbnQgPSAnTm8gUHJpb3JpdHknO1xuICAgICAgICB0YXNrUHJpb3JpdHkuYXBwZW5kQ2hpbGQobm9Qcmlvcml0eSk7XG5cbiAgICAgICAgXG5cblxuICAgICAgICBsZXQgbG93UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgbG93UHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnbG93UHJpb3JpdHknKTtcbiAgICAgICAgbG93UHJpb3JpdHkudmFsdWUgPSAnTG93IFByaW9yaXR5JztcbiAgICAgICAgbG93UHJpb3JpdHkudGV4dENvbnRlbnQgPSAnTG93IFByaW9yaXR5J1xuICAgICAgICB0YXNrUHJpb3JpdHkuYXBwZW5kQ2hpbGQobG93UHJpb3JpdHkpO1xuXG4gICAgICAgIFxuXG4gICAgICAgIGxldCBoaWdoUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgaGlnaFByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ2hpZ2hQcmlvcml0eScpO1xuICAgICAgICBoaWdoUHJpb3JpdHkudmFsdWUgPSAnSGlnaCBQcmlvcml0eSc7XG4gICAgICAgIGhpZ2hQcmlvcml0eS50ZXh0Q29udGVudCA9ICdIaWdoIFByaW9yaXR5J1xuICAgICAgICB0YXNrUHJpb3JpdHkuYXBwZW5kQ2hpbGQoaGlnaFByaW9yaXR5KTtcblxuICAgICAgICBcblxuICAgICAgICBsZXQgdGFza0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gICAgICAgIHRhc2tEdWVEYXRlLmNsYXNzTGlzdC5hZGQoJ3Nob3dEdWVEYXRlJyk7XG4gICAgICAgIHRhc2tEdWVEYXRlLnR5cGUgPSAnRGF0ZSc7XG4gICAgICAgIHRhc2tEdWVEYXRlLnZhbHVlID0gZS5kdWVEYXRlO1xuICAgICAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tEdWVEYXRlKTtcblxuICAgICAgICB0YXNrRHVlRGF0ZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZGF0ZSk9PntcbiAgICAgICAgICAgIGRhdGUuY3VycmVudFRhcmdldC52YWx1ZSA9IHRhc2tEdWVEYXRlLnZhbHVlO1xuICAgICAgICAgICAgZS5kdWVEYXRlID0gZGF0ZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteVByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkobXlQcm9qZWN0cykpO1xuXG4gICAgICAgIH0pXG5cbiAgICAgICAgXG5cbiAgICAgICAgXG5cbiAgICAgICAgdGFza1RpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGspPT57XG4gICAgICAgICAgICBpZiAoay5rZXkgPT0gJ0VudGVyJyl7XG4gICAgICAgICAgICAgICAgZS50aXRsZSA9IHRhc2tUaXRsZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBlLmRlc2NyaXB0aW9uID0gdGFza0Rlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgIGUucHJpb3JpdHkgPSB0YXNrUHJpb3JpdHkudmFsdWU7XG4gICAgICAgICAgICAgICAgZS5kdWVEYXRlID0gdGFza0R1ZURhdGUudmFsdWU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0cyk7XG4gICAgICAgICAgICAgICAgdGFza1RpdGxlLmJsdXIoKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXlQcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KG15UHJvamVjdHMpKTtcblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGspPT57XG4gICAgICAgICAgICBpZiAoay5rZXkgPT0gJ0VudGVyJyl7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZS50aXRsZSA9IHRhc2tUaXRsZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBlLmRlc2NyaXB0aW9uID0gdGFza0Rlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgIGUucHJpb3JpdHkgPSB0YXNrUHJpb3JpdHkudmFsdWU7XG4gICAgICAgICAgICAgICAgZS5kdWVEYXRlID0gdGFza0R1ZURhdGUudmFsdWU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0cyk7XG4gICAgICAgICAgICAgICAgdGFza0Rlc2NyaXB0aW9uLmJsdXIoKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXlQcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KG15UHJvamVjdHMpKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9KVxuXG4gICAgICAgIFxuICAgICAgICBcblxuICAgICAgICBpZiAoZS5wcmlvcml0eSA9PSAnSGlnaCBQcmlvcml0eScpe1xuICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZWQnXG4gICAgICAgICAgICBoaWdoUHJpb3JpdHkuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGUucHJpb3JpdHkgPT0gJ0xvdyBQcmlvcml0eScpe1xuICAgICAgICAgICAgdGFzay5zdHlsZS5ib3JkZXJDb2xvciA9ICdncmVlbidcbiAgICAgICAgICAgIGxvd1ByaW9yaXR5LnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhc2suc3R5bGUuYm9yZGVyQ29sb3IgPSAnYmxhY2snXG4gICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcblxuXG5cbiAgICAgICAgbGV0IHRhc2tEZWxldGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgICAgICB0YXNrRGVsZXRlLmNsYXNzTGlzdC5hZGQoJ3Rhc2tEZWxldGUnKTtcbiAgICAgICAgdGFza0RlbGV0ZS50ZXh0Q29udGVudCA9ICdYJztcbiAgICAgICAgdGFzay5hcHBlbmRDaGlsZCh0YXNrRGVsZXRlKTtcbiAgICAgICAgdGFza0RlbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRhc2tBcnJheS5zcGxpY2UoaSAsIDEpO1xuICAgICAgICAgICAgdGFzay5yZW1vdmUoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGkpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhc2tBcnJheSlcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteVByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkobXlQcm9qZWN0cykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBcblxuICAgICAgICB9KVxuXG5cblxuXG4gICAgfSlcblxufVxuXG5cblxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrIChpKXtcblxuICAgIGNvbnN0IHRhc2tGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtQ29udGFpbmVyJyk7XG4gICAgdGFza0Zvcm1Db250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tDb250YWluZXInKVxuXG4gICAgXG5cbiAgICBcblxuICAgIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgdGFza1RpdGxlLnNldEF0dHJpYnV0ZSgnaWQnLCAndGFza1RpdGxlJylcbiAgICB0YXNrVGl0bGUucGxhY2Vob2xkZXIgPSAndGl0bGUnO1xuICAgIHRhc2tGb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tUaXRsZSk7XG5cbiAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRhc2tEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Rhc2tEZXNjcmlwdGlvbicpO1xuICAgIHRhc2tEZXNjcmlwdGlvbi5wbGFjZWhvbGRlciA9ICdkZXNjcmlwdGlvbidcbiAgICB0YXNrRm9ybUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0YXNrRGVzY3JpcHRpb24pO1xuXG4gICAgY29uc3QgdGFza1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgdGFza1ByaW9yaXR5LnNldEF0dHJpYnV0ZSgnaWQnLCAndGFza1ByaW9yaXR5Jyk7XG4gICAgdGFza0Zvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQodGFza1ByaW9yaXR5KTtcblxuICAgIGNvbnN0IG5vUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBub1ByaW9yaXR5LnZhbHVlID0gJ05vIFByaW9yaXR5JztcbiAgICBub1ByaW9yaXR5LnRleHRDb250ZW50ID0gJ05vIFByaW9yaXR5JztcbiAgICB0YXNrUHJpb3JpdHkuYXBwZW5kQ2hpbGQobm9Qcmlvcml0eSk7XG5cbiAgICBcbiAgICBcblxuICAgIGNvbnN0IGhpZ2hQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIGhpZ2hQcmlvcml0eS52YWx1ZSA9ICdIaWdoIFByaW9yaXR5J1xuICAgIGhpZ2hQcmlvcml0eS50ZXh0Q29udGVudCA9ICdIaWdoIFByaW9yaXR5J1xuICAgIHRhc2tQcmlvcml0eS5hcHBlbmRDaGlsZChoaWdoUHJpb3JpdHkpO1xuXG4gICAgY29uc3QgbG93UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBsb3dQcmlvcml0eS52YWx1ZSA9ICdMb3cgUHJpb3JpdHknXG4gICAgbG93UHJpb3JpdHkudGV4dENvbnRlbnQgPSAnTG93IFByaW9yaXR5J1xuICAgIHRhc2tQcmlvcml0eS5hcHBlbmRDaGlsZChsb3dQcmlvcml0eSk7XG5cbiAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgdGFza0R1ZURhdGUuc2V0QXR0cmlidXRlKCdpZCcsICd0YXNrRHVlRGF0ZScpXG4gICAgdGFza0R1ZURhdGUudHlwZSA9ICdEYXRlJztcbiAgICB0YXNrRHVlRGF0ZS50ZXh0Q29udGVudCA9ICdEdWUgRGF0ZSc7XG4gICAgdGFza0Zvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQodGFza0R1ZURhdGUpO1xuXG4gICAgY29uc3Qgc3VibWl0VGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHN1Ym1pdFRhc2suc2V0QXR0cmlidXRlKCdpZCcsICdzdWJtaXRUYXNrJyk7XG4gICAgc3VibWl0VGFzay50ZXh0Q29udGVudCA9ICdTdWJtaXQnXG4gICAgdGFza0Zvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQoc3VibWl0VGFzayk7XG5cbiAgICBjb25zdCBjYW5jZWxUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY2FuY2VsVGFzay5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2NhbmNlbFRhc2snKTtcbiAgICBjYW5jZWxUYXNrLnRleHRDb250ZW50ID0gJ0NhbmNlbCdcbiAgICB0YXNrRm9ybUNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW5jZWxUYXNrKTtcblxuICAgIFxuXG4gICAgc3VibWl0VGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIFxuXG4gICAgICAgIFxuXG4gICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrVGl0bGUnKS52YWx1ZTtcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tEZXNjcmlwdGlvbicpLnZhbHVlO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza1ByaW9yaXR5JykudmFsdWU7XG4gICAgICAgIGxldCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tEdWVEYXRlJykudmFsdWU7XG5cbiAgICAgICAgXG5cbiAgICAgICAgbGV0IHRhc2tPYmogPSBuZXcgVGFzayAodGl0bGUsIGRlc2NyaXB0aW9uLCBwcmlvcml0eSwgZHVlRGF0ZSlcbiAgICAgICAgbXlQcm9qZWN0cy5hdChpKS50YXNrcy5wdXNoKHRhc2tPYmopO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXlQcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KG15UHJvamVjdHMpKTtcbiAgICAgICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlKVxuXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0cylcbiAgICAgICAgY29uc29sZS5sb2cocHJpb3JpdHkpXG5cbiAgICAgICAgZGlzcGxheVRhc2tzKGkpXG5cbiAgICAgICAgXG5cbiAgICAgICAgbGV0IHRhc2tGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtQ29udGFpbmVyJyk7XG4gICAgICAgIHRhc2tGb3JtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgXG4gICAgICAgIFxuXG4gICAgfSlcblxuICAgIGNhbmNlbFRhc2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICB0YXNrRm9ybUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG5cbiAgICB9KVxuXG4gICAgICAgIFxuXG59XG5cblxuXG5cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsbFRhc2tzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgIGFsbFRhc2tzKG15UHJvamVjdHMpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpPT4ge1xuICAgIGFsbFRhc2tzKG15UHJvamVjdHMpXG5cbn0pXG5cbiAgICBcblxuICAgICAgICBcblxuICAgICAgICBcblxuICAgICAgICBcblxuICAgICAgICBcbiAgICAgICAgICAgIFxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICBcblxuXG5cblxuICAgICAgICBcbiAgICAgICAgXG5cblxuXG4gICAgICAgICAgICBcblxuXG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgIFxuXG5cblxuIiwiZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFByb2plY3QgKCl7IFxuXG4gICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Q29udGFpbmVyJyk7XG4gICAgXG4gICAgY29uc3QgYWRkUHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGFkZFByb2plY3QudGV4dENvbnRlbnQgPSAnRGVmYXVsdCdcbiAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGFkZFByb2plY3QpO1xuXG4gICAgXG5cbiAgICBjb25zdCBjb250ZW50SGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnRIZWFkZXInKTtcbiAgICBjb250ZW50SGVhZGVyLnRleHRDb250ZW50ID0gYWRkUHJvamVjdC50ZXh0Q29udGVudDtcblxuICAgIGNvbnN0IHRhc2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0J1dHRvbicpO1xuICAgIHRhc2tCdXR0b24uc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmlsZSc7XG5cblxuXG4gICAgbGV0IHRpdGxlID0gYWRkUHJvamVjdC50ZXh0Q29udGVudDtcbiAgICBsZXQgZGVmYXVsdFByb2plY3QgPSBuZXcgUHJvamVjdCh0aXRsZSk7XG4gICAgbXlQcm9qZWN0cy5wdXNoKGRlZmF1bHRQcm9qZWN0KTtcblxuICAgIHByb2plY3RDbGljaygpXG5cbiAgICBjb25zb2xlLmxvZyhteVByb2plY3RzKVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRGVmYXVsdFByb2plY3QiXSwibmFtZXMiOlsibXlQcm9qZWN0cyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJ0YXNrQ29udGFpbmVyIiwiaW5uZXJIVE1MIiwiZm9yRWFjaCIsImUiLCJpIiwidGFza0FycmF5IiwidGFza3MiLCJjb25zb2xlIiwibG9nIiwidGFzayIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsInRhc2tUaXRsZSIsInZhbHVlIiwidGl0bGUiLCJ0YXNrRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsInRhc2tQcmlvcml0eSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJjdXJyZW50VGFyZ2V0Iiwibm9Qcmlvcml0eSIsInByaW9yaXR5IiwiYm9yZGVyQ29sb3IiLCJibHVyIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb3dQcmlvcml0eSIsImhpZ2hQcmlvcml0eSIsInRhc2tEdWVEYXRlIiwidHlwZSIsImR1ZURhdGUiLCJkYXRlIiwiayIsImtleSIsInNlbGVjdGVkIiwidGFza0RlbGV0ZSIsInNwbGljZSIsInJlbW92ZSIsInBhcnNlIiwiZ2V0SXRlbSIsInByb2plY3RDb250YWluZXIiLCJhZGRQcm9qZWN0IiwiZGVmYXVsdFByb2plY3QiLCJQcm9qZWN0IiwicHVzaCIsInByb2plY3RDbGljayIsImNyZWF0ZURlZmF1bHQiLCJjb25zdHJ1Y3RvciIsImluZGV4IiwidGhpcyIsIlRhc2siLCJjb250ZW50SGVhZGVyIiwicHJvaiIsInByb2plY3QiLCJwcm9qZWN0VGl0bGUiLCJkZWxldGVQcm9qZWN0Iiwic2V0QXR0cmlidXRlIiwiZGlzcGxheVRhc2tzIiwidGFza0Zvcm1Db250YWluZXIiLCJwbGFjZWhvbGRlciIsInN1Ym1pdFRhc2siLCJjYW5jZWxUYXNrIiwidGFza09iaiIsImF0IiwiY3JlYXRlVGFzayIsInRhc2tCdXR0b24iLCJwcm9qZWN0Rm9ybUNvbnRhaW5lciIsInByb2plY3RCdXR0b24iLCJwcm9qZWN0TmFtZSIsInN1Ym1pdCIsInByb2plY3RPYmoiLCJjYW5jZWxQcm9qZWN0Iiwid2luZG93Il0sInNvdXJjZVJvb3QiOiIifQ==